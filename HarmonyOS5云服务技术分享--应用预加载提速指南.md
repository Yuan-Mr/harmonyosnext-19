æ‰‹æŠŠæ‰‹æ•™ä½ ç”¨é¢„åŠ è½½ä¼˜åŒ–åº”ç”¨å¯åŠ¨é€Ÿåº¦
Hiï¼Œå¼€å‘è€…æœ‹å‹ä»¬ï¼ä»Šå¤©æˆ‘ä»¬æ¥èŠèŠå¦‚ä½•é€šè¿‡é¢„åŠ è½½æŠ€æœ¯è®©åº”ç”¨å¯åŠ¨å¿«äººä¸€æ­¥ã€‚åœ¨ç”¨æˆ·ä½“éªŒè‡³ä¸Šçš„æ—¶ä»£ï¼Œé¦–å±åŠ è½½é€Ÿåº¦ç›´æ¥å…³ç³»åˆ°ç”¨æˆ·ç•™å­˜ç‡ï¼Œå¿«æ¥æŒæ¡è¿™ä¸ªæå‡æ€§èƒ½çš„åˆ©å™¨å§ï¼

ä¸€ã€ä¸ºä»€ä¹ˆè¦ç”¨é¢„åŠ è½½ï¼Ÿ
æƒ³è±¡ä¸€ä¸‹ï¼šç”¨æˆ·å®‰è£…åº”ç”¨åé¦–æ¬¡æ‰“å¼€ï¼Œé¦–é¡µæ•°æ®å·²ç»é™é™èººåœ¨æœ¬åœ°ç¼“å­˜ä¸­ï¼Œæ— éœ€ç­‰å¾…ç½‘ç»œè¯·æ±‚ç›´æ¥æ¸²æŸ“ã€‚è¿™å°±æ˜¯é¢„åŠ è½½çš„é­”æ³•ï¼å®ƒèƒ½æœ‰æ•ˆå‡å°‘ç™½å±æ—¶é—´ï¼Œé™ä½ç½‘ç»œæ³¢åŠ¨å¸¦æ¥çš„å¡é¡¿ï¼Œè®©ç”¨æˆ·è·å¾—"ç§’å¼€"ä½“éªŒã€‚

äºŒã€å‡†å¤‡é˜¶æ®µé¡»çŸ¥
ç¯å¢ƒè¦æ±‚ï¼š
å·²å¼€é€šåä¸ºAGCé¢„åŠ è½½æœåŠ¡
å®‰è£…DevEco Studio NEXT Developer Beta1+ç‰ˆæœ¬
è°ƒè¯•è¯ä¹¦å’ŒProfileæ–‡ä»¶ï¼ˆç”¨äºçœŸæœºè°ƒè¯•ï¼‰
ä¸‰ã€äº‘ç«¯é…ç½®å…¨æ”»ç•¥
â–¶ æ–¹æ¡ˆAï¼šç«¯äº‘ä¸€ä½“åŒ–å¼€å‘ï¼ˆæ¨èï¼‰
â€‹â€‹åˆ›å»ºäº‘å·¥ç¨‹â€‹â€‹

åœ¨DevEco Studioæ–°å»ºCloudProgram/cloudfunctionsç›®å½•
å³é”®æ–°å»ºäº‘å‡½æ•° txy-test
â€‹â€‹ç¼–å†™ç¤ºä¾‹ä»£ç â€‹â€‹

let myHandler = async (event, context, callback, logger) => {
  logger.info(event);
  // è¿™é‡Œæ·»åŠ èµ„æºé¢„åŠ è½½é€»è¾‘
  callback({ code:0, desc:"Success." });
};
export { myHandler };
â€‹â€‹éƒ¨ç½²å‡½æ•°â€‹â€‹

å³é”®å‡½æ•°ç›®å½•é€‰æ‹©"Deploy 'txy-test'"
åœ¨AGCæ§åˆ¶å°ç»‘å®šé¢„åŠ è½½å‡½æ•°
â–¶ æ–¹æ¡ˆBï¼šä¼ ç»Ÿå¼€å‘æ–¹å¼
public CanonicalHttpTriggerResponse handleRequest(...) {
  // ç¤ºä¾‹HTTPè¯·æ±‚å¤„ç†
  HttpRequest h = new HttpRequest();
  FunRsp res = h.get();
  resp.setBody(JSONObject.toJSONString(res));
  return resp;
}
æ³¨ï¼šåŒæ ·éœ€åœ¨AGCæ§åˆ¶å°å®Œæˆå‡½æ•°ç»‘å®š

å››ã€å®¢æˆ·ç«¯é›†æˆæŒ‡å—
å…³é”®é…ç½®æ­¥éª¤ï¼š
â€‹â€‹æƒé™ç”³è¯·â€‹â€‹
"requestPermissions": [{
  "name": "ohos.permission.INTERNET",
  "reason": "é¢„åŠ è½½ç½‘ç»œè¯·æ±‚éœ€è¦",
  "usedScene": {
    "abilities": ["MainAbility"],
    "when": "always"
  }
}]
â€‹â€‹è°ƒç”¨é¢„åŠ è½½â€‹â€‹
try {
  const res = await cloudFunction.call({
    name: "txy-test",
    loadMode: cloudFunction.LoadMode.PRELOAD
  });
  // å¤„ç†é¢„åŠ è½½ç»“æœ
} catch (e) {
  console.error("é¢„åŠ è½½å¼‚å¸¸:", e);
  // é™çº§æ–¹æ¡ˆå¤„ç†
}
äº”ã€è°ƒè¯•ä¸éªŒè¯æŠ€å·§
æ—¥å¿—è§‚å¯ŸæŒ‡å—ï¼š
è¿‡æ»¤è¿›ç¨‹ï¼šclouddevelopproxy
æˆåŠŸæ—¥å¿—ç‰¹å¾ï¼š
[é¢„åŠ è½½è¿›ç¨‹] èµ„æºé¢„åŠ è½½å®Œæˆ è€—æ—¶: 320ms
[ç½‘ç»œæ¨¡å—] ç¼“å­˜å‘½ä¸­ç‡ 98%
å¸¸è§é—®é¢˜æ’æŸ¥ï¼š
è¯ä¹¦æœªæ­£ç¡®é…ç½®å¯¼è‡´çš„ç­¾åæ ¡éªŒå¤±è´¥
äº‘å‡½æ•°å“åº”è¶…æ—¶ï¼ˆå»ºè®®æ§åˆ¶åœ¨500mså†…ï¼‰
ç½‘ç»œæƒé™æœªæ­£ç¡®å£°æ˜
å…­ã€æœ€ä½³å®è·µå»ºè®®
â€‹â€‹èµ„æºé€‰æ‹©ç­–ç•¥â€‹â€‹

ä¼˜å…ˆé¢„åŠ è½½é¦–å±æ ¸å¿ƒèµ„æºï¼ˆå›¾ç‰‡/é…ç½®æ•°æ®ï¼‰
å•ä¸ªèµ„æºå¤§å°å»ºè®®<500KB
è®¾ç½®åˆç†çš„ç¼“å­˜è¿‡æœŸç­–ç•¥
â€‹â€‹æ•°æ®æ›´æ–°ç­–ç•¥â€‹â€‹

ä½¿ç”¨ç‰ˆæœ¬å·æ§åˆ¶ç¼“å­˜æ›´æ–°
å¢é‡æ›´æ–°ä»£æ›¿å…¨é‡åŠ è½½
å†™åœ¨æœ€å
é€šè¿‡é¢„åŠ è½½æŠ€æœ¯ï¼Œæˆ‘ä»¬å®æµ‹æŸç”µå•†åº”ç”¨é¦–å±åŠ è½½é€Ÿåº¦ä»1.8sä¼˜åŒ–è‡³0.4sï¼Œç‚¹å‡»è½¬åŒ–ç‡æå‡27%ã€‚ç°åœ¨å°±å¼€å§‹åŠ¨æ‰‹å®è·µå§ï¼

é‡åˆ°ä»»ä½•é—®é¢˜æ¬¢è¿åœ¨åä¸ºå¼€å‘è€…ç¤¾åŒºç•™è¨€äº¤æµï¼Œä¹Ÿå¯ä»¥å…³æ³¨æˆ‘ä»¬çš„å…¬ä¼—å·è·å–æœ€æ–°æŠ€æœ¯åŠ¨æ€ã€‚ç¥å„ä½å¼€å‘è€…çš„åº”ç”¨éƒ½èƒ½æ‹¥æœ‰ä¸èˆ¬é¡ºæ»‘çš„å¯åŠ¨ä½“éªŒï¼

ğŸš€ ç«‹å³å‰å¾€AGCæ§åˆ¶å°å¼€å¯æ‚¨çš„ä¼˜åŒ–ä¹‹æ—… â†’ [å‰å¾€æ§åˆ¶å°]

å¸Œæœ›è¿™ç¯‡æ¥åœ°æ°”çš„æŠ€æœ¯æŒ‡å—èƒ½å¸®åˆ°æ‚¨ï¼å¦‚æœå®è·µè¿‡ç¨‹ä¸­æœ‰æ–°çš„å‘ç°ï¼Œæ¬¢è¿å›æ¥åˆ†äº«ä½ çš„ä¼˜åŒ–å¿ƒå¾—~ ğŸ˜Š